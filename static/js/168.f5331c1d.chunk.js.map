{"version":3,"file":"static/js/168.f5331c1d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","service/theMovieDbApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviews-container\":\"Reviews_reviews-container__lVMo7\",\"review-item\":\"Reviews_review-item__86X7d\",\"review-author\":\"Reviews_review-author__0+Qct\",\"review-content\":\"Reviews_review-content__zziG0\",\"read-more\":\"Reviews_read-more__vSbxd\",\"read-more-loader\":\"Reviews_read-more-loader__4WPfT\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchReviewsByMovieId } from 'service/theMovieDbApi';\nimport styles from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState(null);\n  const [expandedReviews, setExpandedReviews] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchData = async () => {\n      try {\n        const result = await fetchReviewsByMovieId(movieId);\n        setReviews(result);\n        setError(null);\n      } catch (error) {\n        setError('Failed to fetch reviews.');\n        console.log(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [movieId]);\n\n  const handleReadMore = author => {\n    setExpandedReviews(prevExpandedReviews => [...prevExpandedReviews, author]);\n  };\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error: {error}</p>;\n\n  return (\n    <ul className={styles['reviews-container']}>\n      {reviews && reviews.length > 0 ? (\n        reviews.map(({ author, content }) => {\n          const isShortReview = content.split('\\n').length <= 3;\n          return (\n            <li key={author} className={styles['review-item']}>\n              <h3 className={styles['review-author']}>{author}</h3>\n              <p className={styles['review-content']}>\n                {expandedReviews.includes(author) || isShortReview\n                  ? content\n                  : `${content.slice(0, 150)}...`}\n                {!expandedReviews.includes(author) && !isShortReview && (\n                  <button\n                    onClick={() => handleReadMore(author)}\n                    className={styles['read-more']}\n                  >\n                    Read more\n                  </button>\n                )}\n              </p>\n            </li>\n          );\n        })\n      ) : (\n        <li className={styles['read-more-loader']}>\n          There are no reviews so far.\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst successToken =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNDRkNjQ5YmYyOWIxM2YxNWY3YzA5ZTNhN2M1MDRkZCIsInN1YiI6IjY1ZDM1NDQ3MmRhODQ2MDE4NTI2MzE1MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.TDx983zsZiX2YGdKyqnHoNB0tBfNTgYu5H9MjFWr_fE';\n\nconst baseUrl = 'https://api.themoviedb.org/3';\n\nexport const fetchTrendingMovies = async () => {\n  const {\n    data: { results },\n  } = await axios(`${baseUrl}/trending/movie/day`, {\n    headers: { Authorization: `Bearer ${successToken}` },\n  });\n  return results;\n};\nexport const fetchMovieDetailsById = async id => {\n  const { data } = await axios(`${baseUrl}/movie/${id}`, {\n    headers: { Authorization: `Bearer ${successToken}` },\n  });\n  return data;\n};\n\nexport const fetchCreditsByMovieId = async id => {\n  const { data } = await axios(`${baseUrl}/movie/${id}/credits`, {\n    headers: { Authorization: `Bearer ${successToken}` },\n  });\n  return data.cast;\n};\nexport const fetchReviewsByMovieId = async id => {\n  const { data } = await axios(`${baseUrl}/movie/${id}/reviews`, {\n    headers: { Authorization: `Bearer ${successToken}` },\n  });\n  return data.results;\n};\nexport const fetchMoviesByQuery = async query => {\n  const { data } = await axios(`${baseUrl}/search/movie?query=${query}`, {\n    headers: { Authorization: `Bearer ${successToken}` },\n  });\n  return data.results;\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","expandedReviews","setExpandedReviews","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","movieId","useParams","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","result","_context","prev","next","fetchReviewsByMovieId","sent","t0","console","log","message","finish","stop","apply","arguments","_jsx","children","_jsxs","className","styles","length","map","_ref2","author","content","isShortReview","split","includes","concat","slice","onClick","prevExpandedReviews","_toConsumableArray","handleReadMore","successToken","baseUrl","fetchTrendingMovies","_yield$axios","results","axios","headers","Authorization","data","abrupt","fetchMovieDetailsById","_callee2","id","_yield$axios2","_context2","_x","fetchCreditsByMovieId","_ref3","_callee3","_yield$axios3","_context3","cast","_x2","_ref4","_callee4","_yield$axios4","_context4","_x3","fetchMoviesByQuery","_ref5","_callee5","query","_yield$axios5","_context5","_x4"],"sourceRoot":""}